const Cases=CasesData;let selectedCaseId=0,items=null;var winner=[];let counts=[],activeItemIndex=-1,spinneraxis="x";var CaseCost=null;let balance=100,winamount=0,arrayCountNumber=0,activespinnercount=1,adjuster=0,spanElementsClickable=!0,pointeraxis=0,buttonClicked=!1,Divver=!1,PointersThere=!0;const buttonReal=document.getElementById("btn-open"),buttonDemo=document.getElementById("btn-open-demo");function openCase(e,n){buttonDelayReal(buttonReal,8e3),document.getElementById("spinnerInner-"+e).style.transform="translate"+spinneraxis+"(-10.75%)",document.getElementById("spinnerInner-"+e).style.transition="transform 0s ease 0s",buttonClicked?document.getElementById("spinnerInner-"+e).innerHTML="":buttonClicked=!0,PointersThere||(pointerCreate(),PointersThere=!0);let t=Math.floor(100*Math.random()+1),a=0;for(let i=0;i<items.length;i++){if(t<=items[i][2]+a){balance+=items[i][1],storebalance(),console.log(items),console.log("New Balance: "+balance.toFixed(2)),console.log("You've got: "+items[i][0]),console.log("The Items price is: "+items[i][1]),console.log("The Chance to get this item was: "+items[i][2]),console.log("The Random Number was: "+t),winner=i,console.log("The:"+winner),Divver?redivMaker(e):Divver=!0,caseAnimation(winner,e,n);break}console.log("Not"),a+=items[i][2]}}function openCaseDemo(e){buttonDelayReal(buttonReal),document.getElementById("spinnerInner-"+e).style.transform="translate"+spinneraxis+"(-277.266px)",document.getElementById("spinnerInner-"+e).style.transition="transform 0s ease 0s",buttonClicked?document.getElementById("spinnerInner-"+e).innerHTML="":buttonClicked=!0;let n=Math.floor(100*Math.random()+1),t=0;for(let a=0;a<items.length;a++){if(n<=items[a][2]+t){console.log(items),console.log("You've got: "+items[a][0]),console.log("The Items price is: "+items[a][1]),console.log("The Chance to get this item was: "+items[a][2]),console.log("The Random Number was: "+n),winner=a,console.log("The:"+winner),redivMaker(e),countDivElements(e),caseAnimation(winner,e);break}console.log("Not"),t+=items[a][2]}}function divMaker(e){for(let n=0;n<60;n++){let t=Math.floor(Math.random()*items.length);document.getElementById(`spinnerInner-${e}`).appendChild(divCreate(n,t,e))}let a=document.getElementById("spinner-"+e+"-item-6");a.querySelector(".item").classList.add("active"),a.querySelector(".itemImageContainer").classList.add("active")}function divCreate(e,n,t){let a=document.createElement("div");a.id="spinner-"+t+"-item-"+e,a.className="itemcontainer",a.style.transform="none";let i=document.createElement("div");i.className="item",a.appendChild(i);let l=document.createElement("div");l.className="itemImageContainer",i.appendChild(l);let s=document.createElement("img");s.alt=items[n][0],s.src=items[n][3],s.loading="lazy",s.className="itemImage",s.style.position="absolute",s.style.height="100%",s.style.width="100%",s.style.inset="0px",s.style.color="transparent",l.appendChild(s);let r=document.createElement("div");r.style.filter=items[n][4][1],r.draggable="false",r.className="itemBackground",i.appendChild(r);let o=document.createElement("img");return o.alt=items[n][0],o.srcset=items[n][4][0]+" 1x",items[n][4][0],o.src=items[n][4][0],o.width="64",o.height="64",o.className="itemBackgroundImage",o.loading="lazy",o.style.color="transparent",r.appendChild(o),a}function caseAnimation(e,n,t){winItemCreate(e,n,t);let a={value:7},i=setInterval(function(){"x"===spinneraxis?itemActivatory(n,a):itemActivatorx(n,a)},4);setTimeout(function(){document.getElementById("spinnerInner-"+n).style.transform="translate"+spinneraxis+"("+Animations[t][1]+")",document.getElementById("spinnerInner-"+n).style.transition="transform 7.5s cubic-bezier(0.1, 0, 0.2, 1) 0s",setTimeout(function(){document.getElementById("spinnerInner-"+n).style.transform="translate"+spinneraxis+"("+Animations[t][2]+")",document.getElementById("spinnerInner-"+n).style.transition="transform 0.25s cubic-bezier(0.1, 0, 0.2, 1) 0s",clearInterval(i)},7500)},250),activateWinner(n,e,t)}function rndAnimation(){let e=Math.floor(4*Math.random());return console.log("DieRnd Animation: "+e),e}function winItemCreate(e,n,t){let a=document.getElementById("spinner-"+n+"-item-"+Animations[t][0]),i=a.querySelector(".itemImageContainer").querySelector(".itemImage");i.alt=items[e][0],i.src=items[e][3];a.querySelector(".itemBackground").style.filter=items[e][4][1];let l=a.querySelector(".itemBackgroundImage");l.alt=items[e][0],l.srcset=items[e][4][0]+" 1x",items[e][4][0],l.src=items[e][4][0]}function activateWinner(e,n,t){setTimeout(function(){let a=document.getElementById("spinner-"+e+"-item-"+Animations[t][0]);a.querySelector(".item").className="itemWin";a.querySelector(".itemImageContainer").className="itemImageContainerWin";let i=document.createElement("div");i.className="itemWinInfo",i.style.opacity="1",i.style.transform="none",a.appendChild(i);let l=document.createElement("div");l.className="itemWinInfoContainer",i.appendChild(l);let s=document.createElement("div");s.className="itemWinNameContainer",l.appendChild(s);let r=document.createElement("div");r.className="itemWinName",s.appendChild(r);let o=document.createTextNode(items[n][0]);r.appendChild(o);let c=document.createElement("span");c.className="price",l.appendChild(c);let d=document.createElement("div");d.className="price-wrapper",c.appendChild(d);let m=document.createElement("div");m.className="price-image-wrapper",d.appendChild(m);let p=document.createElement("img");p.src="images/gem.svg",m.appendChild(p);let g=document.createTextNode(items[n][1]);d.appendChild(g),initializePointers()},7750)}function showFirstPair(){document.getElementById("pointer-1-ypath").style.display="block",document.getElementById("pointer-1-xpath").style.display="none",document.getElementById("pointer-2-ypath").style.display="block",document.getElementById("pointer-2-xpath").style.display="none"}function showSecondPair(){document.getElementById("pointer-1-ypath").style.display="none",document.getElementById("pointer-1-xpath").style.display="block",document.getElementById("pointer-2-ypath").style.display="none",document.getElementById("pointer-2-xpath").style.display="block"}function pointerChangex(){document.getElementById("pointers").className="pointersx"}function pointerChangey(){document.getElementById("pointers").className="pointersy"}function pointerCreate(){document.getElementById("pointers").querySelectorAll("svg").forEach(e=>{console.log("Test"),e.classList.remove("invisiblePointers")})}function initializePointers(){document.getElementById("pointers").querySelectorAll("svg").forEach(e=>{e.classList.add("invisiblePointers")}),PointersThere=!1}function buttonDelayReal(e,n){e.disabled=!0,setTimeout(function(){e.disabled=!1},n)}function dropmaker(){let e=items.length;for(let n=0;n<e;n++)dropcreate(n)}function dropcreate(e){let n=document.createElement("div");n.className="row drop "+items[e][4][2];let t=document.createElement("div");t.className="dropImages",n.appendChild(t);let a=document.createElement("div");a.className="dropImageContainer",t.appendChild(a);let i=document.createElement("img");i.alt=items[e][0],i.src=items[e][3],i.loading="lazy",i.className="dropImage",i.style.position="absolute",i.style.height="100%",i.style.width="100%",i.style.inset="0px",i.style.color="transparent",a.appendChild(i);let l=document.createElement("div");l.style.filter=items[e][4][1],l.draggable="false",l.className="dropBackground",t.appendChild(l);let s=document.createElement("img");s.alt=items[e][0],s.srcset=items[e][4][0]+" 1x",items[e][4][0],s.src=items[e][4][0],s.width="64",s.height="64",s.className="dropBackgroundImage",s.loading="lazy",s.style.color="transparent",l.appendChild(s);let r=document.createElement("div");r.className="dropInformations",n.appendChild(r);let o=document.createElement("div");o.className="dropInformationsNameContainer",r.appendChild(o);let c=document.createElement("div");c.className="dropInformationsName",o.appendChild(c);let d=document.createTextNode(items[e][0]);c.appendChild(d);let m=document.createElement("span");m.className="price",r.appendChild(m);let p=document.createElement("div");p.className="price-wrapper",m.appendChild(p);let g=document.createElement("div");g.className="price-image-wrapper",p.appendChild(g);let y=document.createElement("img");y.src="images/gem.svg",g.appendChild(y);let u=document.createTextNode(items[e][1]);p.appendChild(u);let h=document.createElement("div");h.className="dropOdds",n.appendChild(h);let C=document.createTextNode(items[e][2]+"%");h.appendChild(C),document.getElementById("rowdrops").appendChild(n)}function spinnerscreate(e){for(let n=0;n<e;n++)spinnercreate(n+1),divMaker(n+1)}function spinnercreate(e){let n=document.createElement("div");n.className="spinner",n.id="spinner-"+e;let t=document.createElement("div");t.className="left",n.appendChild(t);let a=document.createElement("div");a.className="right",n.appendChild(a);let i=document.createElement("div");i.className="inner",i.id="spinnerInner-"+e,i.style.transform="translateX(-10.75%)",i.style.transition="transform 0s ease 0s",n.appendChild(i),document.getElementById("spinners-container").appendChild(n)}function spinnerscreatey(e){for(let n=0;n<e;n++)spinnercreatey(n+1),divMaker(n+1)}function spinnercreatey(e){let n=document.createElement("div");n.className="spinnery",n.id="spinner-"+e;let t=document.createElement("div");t.className="left",n.appendChild(t);let a=document.createElement("div");a.className="right",n.appendChild(a);let i=document.createElement("div");i.className="inner",i.id="spinnerInner-"+e,i.style.transform="translate"+spinneraxis+"(-10.75%)",i.style.transition="transform 0s ease 0s",n.appendChild(i),document.getElementById("spinners-container").appendChild(n)}function openCases(e){balance-=CaseCost*e,storebalance(),document.getElementById("balance-amount").innerHTML=balance.toFixed(2)+"€",spanElementsClickable=!1;let n=rndAnimation();for(let t=0;t<e;t++)openCase(t+1,n);setTimeout(function(){spanElementsClickable=!0,console.log("!!!!The displayed balance is:"+balance.toFixed(2)),document.getElementById("balance-amount").innerHTML=balance.toFixed(2)+"€",spinsoundwin(),blinkbalancebutton()},7750)}function itemActivatory(e,n){let t=document.getElementById("spinnerInner-"+e),a=t.getElementsByClassName("itemcontainer"),i=-1;for(let l=0;l<a.length;l++){let s=a[l].getBoundingClientRect(),r=document.getElementById("pointers").getBoundingClientRect();if(s.left>r.left&&s.left<r.right){i=l;break}}for(let o=0;o<a.length;o++){let c=a[o],d=o===i;c.active=d,d&&n.value!==o&&(c.querySelector(".item").classList.add("active"),c.querySelector(".itemImageContainer").classList.add("active"),document.getElementById("spinner-"+e+"-item-"+(o-1)).querySelector(".item").classList.remove("active"),document.getElementById("spinner-"+e+"-item-"+(o-1)).querySelector(".itemImageContainer").classList.remove("active"),t==document.getElementById("spinnerInner-1")&&tickSound(),n.value=o)}}function itemActivatorx(e,n){let t=document.getElementById("spinnerInner-"+e),a=t.getElementsByClassName("itemcontainer"),i=-1;for(let l=0;l<a.length;l++){let s=a[l].getBoundingClientRect(),r=document.getElementById("pointers").getBoundingClientRect();if(s.top<r.top&&s.bottom>r.bottom){i=l;break}}for(let o=0;o<a.length;o++){let c=a[o],d=o===i;c.active=d,d&&n.value!==o&&(c.querySelector(".item").classList.add("active"),c.querySelector(".itemImageContainer").classList.add("active"),document.getElementById("spinner-"+e+"-item-"+(o-1)).querySelector(".item").classList.remove("active"),document.getElementById("spinner-"+e+"-item-"+(o-1)).querySelector(".itemImageContainer").classList.remove("active"),t==document.getElementById("spinnerInner-1")&&tickSound(),n.value=o)}}function orientationerChangey(){document.getElementById("orientationer").orientation="vertical",document.getElementById("orientationer").className="orientationery",document.getElementById("spinners-container").className="spinners-containery"}function orientationerChangex(){document.getElementById("orientationer").orientation="horizontal",document.getElementById("orientationer").className="orientationerx",document.getElementById("spinners-container").className="spinners-containerx"}function openCasesDemo(e){for(let n=0;n<e;n++)openCaseDemo(n+1);setTimeout(function(){console.log("Soundplayed"),spinsoundwin()},7750)}function redivMaker(e){for(let n=0;n<60;n++){let t=Math.floor(Math.random()*items.length);document.getElementById("spinnerInner-"+e).appendChild(divCreate(n,t,e))}let a=document.getElementById("spinner-"+e+"-item-6");a.querySelector(".item").classList.add("active"),a.querySelector(".itemImageContainer").classList.add("active")}function spanchange(e){for(let n=0;n<4;n++)document.getElementById("spannumber-"+(n+1)).className="";document.getElementById("spannumber-"+e).className="active"}function spanchangecostchanger(e){document.getElementById("price-wrapper-case").innerHTML="";let n=document.createElement("div");n.className="price-image-wrapper",document.getElementById("price-wrapper-case").appendChild(n);let t=document.createElement("img");t.src="images/gem.svg",n.appendChild(t);let a=document.createTextNode((CaseCost*e).toFixed(2));document.getElementById("price-wrapper-case").appendChild(a)}function enoughbalance(e){return balance>CaseCost*e}function notenoughbalance(){document.getElementById("btn-open").classList.add("blink-shake-button"),setTimeout(function(){document.getElementById("btn-open").classList.remove("blink-shake-button")},2e3),buttonDelayReal(buttonReal,1e3)}function spinnersound(){new Audio("sounds/spinsound.mp3").play()}function spinsoundwin(){new Audio("sounds/winsound.mp3").play()}function tickSound(){new Audio("sounds/tickSound.mp3").play()}function blinkbalancebutton(){let e=document.getElementById("b_balance");e.classList.add("green-blink"),setTimeout(()=>{e.classList.remove("green-blink")},300)}function rowinfodetails(){let e=document.createElement("img");e.src=Cases[selectedCaseId][2],document.getElementById("image-col-4").appendChild(e);let n=document.createTextNode(Cases[selectedCaseId][0]);document.getElementById("icname").appendChild(n);let t=document.createTextNode((1*CaseCost).toFixed(2));document.getElementById("price-wrapper-case").appendChild(t)}function casecostonload(){CaseCost=Cases[selectedCaseId][1]}function getbalance(){null===localStorage.getItem("balance")?(balance=250,storebalance()):balance=parseFloat(localStorage.getItem("balance"))}function storebalance(){localStorage.setItem("balance",balance)}function balancefield(){let e=document.createElement("input");e.placeholder="New Balance",e.id="balance-input",e.type="number",e.min="0",e.max="100000",e.className="balanceinput";let n=document.createElement("button");n.id="balance-input-button",n.className="balanceinputbutton";let t=document.createTextNode("Change");n.appendChild(t),document.getElementById("balance-input-container").appendChild(e),document.getElementById("balance-input-container").appendChild(n),document.getElementById("balance-input-button").onclick=function(){let e=document.getElementById("balance-input").value;e>=0&&e<=1e5?(balance=e,document.getElementById("balance-amount").innerHTML=balance+"€",storebalance(),document.getElementById("balance-input-container").innerHTML=""):console.log("Balance must be between 0 and 100000")}}function balanceonload(){document.getElementById("balance-amount").innerHTML=balance.toFixed(2)+"€"}document.getElementById("btn-open").onclick=function(){enoughbalance(activespinnercount)?openCases(activespinnercount):notenoughbalance()},document.getElementById("btn-open-demo").onclick=function(){openCasesDemo(activespinnercount)},document.addEventListener("DOMContentLoaded",function(){selectedCaseId=localStorage.getItem("selectedCaseId"),console.log(selectedCaseId),CasesData&&CasesData[selectedCaseId]&&(items=CasesData[selectedCaseId][5],console.log(items),getbalance(),casecostonload(),rowinfodetails(),console.log("CaseCost====="+CaseCost),spinnerscreate(1),dropmaker(),balanceonload())}),document.getElementById("span-1").addEventListener("click",function(){spanElementsClickable&&(document.getElementById("spinners-container").innerHTML="",spinneraxis="x",spinnerscreate(1),activespinnercount=1,spanchange(1),spanchangecostchanger(1),orientationerChangex(),pointeraxis=0,PointersThere||(pointerCreate(),PointersThere=!0),pointerChangey(),showFirstPair())}),document.getElementById("span-2").addEventListener("click",function(){spanElementsClickable&&(document.getElementById("spinners-container").innerHTML="",spinneraxis="y",spinnerscreatey(2),activespinnercount=2,spanchange(2),spanchangecostchanger(2),orientationerChangey(),pointeraxis=1,PointersThere||(pointerCreate(),PointersThere=!0),pointerChangex(),showSecondPair())}),document.getElementById("span-3").addEventListener("click",function(){spanElementsClickable&&(document.getElementById("spinners-container").innerHTML="",spinneraxis="y",spinnerscreatey(3),activespinnercount=3,spanchange(3),spanchangecostchanger(3),orientationerChangey(),pointeraxis=1,PointersThere||(pointerCreate(),PointersThere=!0),pointerChangex(),showSecondPair())}),document.getElementById("span-4").addEventListener("click",function(){spanElementsClickable&&(document.getElementById("spinners-container").innerHTML="",spinneraxis="y",spinnerscreatey(4),activespinnercount=4,spanchange(4),spanchangecostchanger(4),orientationerChangey(),pointeraxis=1,PointersThere||(pointerCreate(),PointersThere=!0),pointerChangex(),showSecondPair())}),document.getElementById("b_balance").onclick=function(){""===document.getElementById("balance-input-container").innerHTML?balancefield():console.log("Cant have more than one input")};